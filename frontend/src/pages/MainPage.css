/* ===== Base & tokens (Light defaults) ===== */
:root {
  --bg:#ffffff;
  --card:#ffffff;
  --card-border:#e5e7eb;
  --muted:#6b7280;
  --text:#111827;
  --brand:#6d28d9;
  --brand-2:#4f46e5;
  --chip:#f3f4f6;
  --row:#fcfcfd;
  --shadow:0 10px 30px rgba(17,24,39,.06);
  --radius:16px;
  --radius-sm:12px;
}

* { box-sizing:border-box; }

body {
  background:#fafafa;
  color:var(--text);
  font-family:ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

/* ===== Layout ===== */
.container {
  max-width:980px;
  margin:0 auto;
  padding:0 16px;
}

.mt-16 { margin-top:4rem; }

.center { text-align:center; }

/* =========================================================
   HERO
   ========================================================= */

/* estructura base */
.hero {
  padding:36px 0 20px;
  border-bottom:1px solid #e7e3ef;
  border-radius:0 0 12px 12px;
  box-shadow:
    0 30px 80px rgba(0,0,0,0.4),
    0 2px 6px rgba(0,0,0,0.4);
  border-top:none;
}

/* LIGHT THEME hero */
body.light .hero {
  background:radial-gradient(circle at top center,#ffffff 0%,#fafafa 60%,#f8fafc 100%);
  color:#0f172a;
  border-bottom:1px solid #e7e3ef;
  box-shadow:
    0 30px 60px rgba(0,0,0,0.08),
    0 2px 4px rgba(0,0,0,0.06);
}

/* DARK THEME hero */
body.dark .hero {
  background:radial-gradient(
    circle at top left,
    rgba(30,27,75,0.6) 0%,
    rgba(15,23,42,0.6) 40%,
    rgba(2,6,23,0.4) 100%
  );
  backdrop-filter:blur(8px);
  -webkit-backdrop-filter:blur(8px);

  border-bottom:1px solid rgba(168,85,247,0.25);
  box-shadow:
    0 40px 120px rgba(0,0,0,0.9),
    0 4px 8px rgba(0,0,0,0.8);

  color:#f8fafc;
}

.hero-title {
  font-size:40px;
  margin:0 0 8px;
  font-weight:900;
  letter-spacing:.2px;
  line-height:1.2;
  text-wrap:balance;
  color:#111827;
}

body.dark .hero-title {
  color:#f8fafc;
}

.hero-sub {
  margin:0 auto 18px;
  max-width:720px;
  line-height:1.6;
  font-size:1rem;
  font-weight:400;
  text-wrap:balance;
  color:var(--muted);
}

body.dark .hero-sub {
  color:#94a3b8; /* slate-400 */
}

/* ===== Suggestions (chips debajo del hero) ===== */
.suggestions {
  display:flex;
  gap:10px;
  justify-content:center;
  flex-wrap:wrap;
}

.suggestions button {
  border-radius:9999px;
  padding:8px 14px;
  cursor:pointer;
  font-size:12px;
  font-weight:500;
  line-height:1.4;
  border:1px solid;
  background:#fff;
  color:#374151;
  border-color:var(--card-border);
  box-shadow:
    0 12px 24px rgba(0,0,0,0.08),
    0 1px 2px rgba(0,0,0,0.12);
  transition:all .12s ease;
}

.suggestions button:hover {
  background:#f3f4f6;
}

/* dark mode chips */
body.dark .suggestions button {
  background:rgba(15,23,42,0.8);
  color:#e2e8f0;
  border-color:rgba(148,163,184,0.3);
  box-shadow:
    0 24px 60px rgba(0,0,0,0.9),
    0 2px 4px rgba(0,0,0,0.8);
}

body.dark .suggestions button:hover {
  background:radial-gradient(circle at 30% 20%,
    rgba(168,85,247,0.15) 0%,
    rgba(15,23,42,0.9) 60%);
  border-color:rgba(168,85,247,0.5);
  box-shadow:
    0 30px 80px rgba(168,85,247,0.3),
    0 4px 8px rgba(0,0,0,0.9);
  color:#fff;
}

/* =========================================================
   ConnectionCard styles (legacy utility classes)
   ========================================================= */

/* Ya no damos colores aquí porque ahora los maneja panel/panel-header + ConnectionCard.css overrides,
   pero mantenemos algunas utilidades existentes para cuando se use en light theme. */

.conn-header {
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-bottom:12px;
}

.conn-header h3 {
  font-size:16px;
  font-weight:800;
  margin:0;
  color:#3b3dd1;
}

.conn-body {
  border-radius:var(--radius-sm);
  padding:14px;
  border:1px solid #eef2f7;
  background:#f9fafb;
}

.conn-body.closed { display:none; }

/* DARK override:
   En dark ya no queremos caja blanca secundaria,
   así que ConnectionCard.css añade estilos para body.dark .conn-body.open.
   Aquí los light-only styles se mantienen para body.light. */
body.dark .conn-body {
  background:transparent;
  border-color:transparent;
  padding:0;
  border-radius:0;
  box-shadow:none;
}

/* ===== Toggle dentro de ConnectionCard (botón Show/Hide en header) ===== */
.toggle-btn {
  border:1px solid var(--card-border);
  background:#f8fafc;
  border-radius:10px;
  padding:6px 10px;
  cursor:pointer;
  font-weight:600;
}
.toggle-btn:hover { background:#eef2f7; }

/* ===== Radios / segmented (antiguo) ===== */
.connection-controls {
  display:flex;
  gap:12px;
  margin:10px 0;
  background:#fff;
  padding:6px 10px;
  border-radius:999px;
  box-shadow:inset 0 0 0 1px #e9e6f6;
}

.connection-controls label {
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:4px 8px;
  border-radius:999px;
  cursor:pointer;
  color:#374151;
  font-weight:600;
}

.connection-controls input[type="radio"] {
  accent-color:#5b76ff;
}

/* =========================================================
   Inputs / selects (light defaults)
   ========================================================= */
input,
select {
  width:100%;
  border:1px solid #d1d5db;
  border-radius:12px;
  padding:10px 12px;
  background:#fff;
  color:#111;
  -webkit-appearance:none;
  appearance:none;
}

input:focus,
select:focus {
  border-color:#c3baf7;
  box-shadow:0 0 0 3px rgba(100,80,200,.15);
  outline:none;
}

/* Custom select arrow */
select {
  background-image:
    linear-gradient(45deg,transparent 50%,#9ca3af 50%),
    linear-gradient(135deg,#9ca3af 50%,transparent 50%),
    linear-gradient(to right,#fff,#fff);
  background-position:
    calc(100% - 16px) calc(50% + 2px),
    calc(100% - 11px) calc(50% + 2px),
    calc(100% - 2.2rem) 0.6rem;
  background-size:5px 5px,5px 5px,1px 2.4rem;
  background-repeat:no-repeat;
}

/* DARK overrides for generic inputs (chat input etc.).
   Nota: también tenemos reglas globales en index.css para body.dark input,
   pero agregamos refuerzos aquí por si hay estilos heredados fuertes. */
body.dark input,
body.dark select {
  background-color:rgba(15,23,42,0.9);
  color:#f8fafc;
  border:1px solid rgba(148,163,184,0.3);
}

body.dark input:focus,
body.dark select:focus {
  border-color:rgba(168,85,247,0.6);
  box-shadow:0 0 0 2px rgba(168,85,247,0.3);
  outline:none;
}

/* ===== Tabla preview (light defaults) ===== */
.border.rounded {
  border-radius:12px!important;
  border:1px solid var(--card-border)!important;
  overflow:hidden;
  background:#fff;
}

table {
  width:100%;
  border-collapse:collapse;
  font-size:14px;
}

thead th {
  background:#f3f4f6;
  color:#111827;
  font-weight:700;
  padding:10px;
  border-bottom:1px solid var(--card-border);
}

tbody td {
  padding:10px;
  border-bottom:1px solid #f1f5f9;
}

tbody tr:nth-child(odd) {
  background:var(--row);
}

/* DARK table overrides */
body.dark .border.rounded {
  background:rgba(15,23,42,0.6);
  border:1px solid rgba(148,163,184,0.3)!important;
}

body.dark thead th {
  background:rgba(15,23,42,0.9);
  color:#f8fafc;
  border-bottom:1px solid rgba(148,163,184,0.3);
}

body.dark tbody td {
  border-bottom:1px solid rgba(148,163,184,0.1);
  color:#e2e8f0;
}

body.dark tbody tr:nth-child(odd) {
  background:rgba(30,41,59,0.4);
}

/* ===== Pagination ===== */
.pagination {
  display:flex;
  align-items:center;
  gap:8px;
}

.pagination .btn {
  padding:8px 12px;
  border-radius:10px;
  border:1px solid var(--card-border);
  background:#f8fafc;
  font-weight:600;
  cursor:pointer;
}

.pagination .btn:hover { background:#eef2f7; }

.pagination .btn:disabled {
  opacity:.5;
  cursor:not-allowed;
}

/* DARK pagination */
body.dark .pagination .btn {
  background:rgba(15,23,42,0.8);
  border:1px solid rgba(148,163,184,0.3);
  color:#e2e8f0;
  box-shadow:
    0 24px 60px rgba(0,0,0,0.9),
    0 2px 4px rgba(0,0,0,0.8);
}

body.dark .pagination .btn:hover {
  background:radial-gradient(circle at 30% 20%,
    rgba(168,85,247,0.15) 0%,
    rgba(15,23,42,0.9) 60%);
  border-color:rgba(168,85,247,0.5);
  color:#fff;
}

/* ===== Chat card / header / messages / input ===== */

/* chat-card era clara; ahora el color base lo maneja .panel del global index.css.
   Aquí dejamos spacing y layout. */
.chat-card {
  border-radius:var(--radius);
  padding:18px;
  box-shadow:var(--shadow);
  border:1px solid var(--card-border);
  background:var(--card);
}

/* pero en dark, .panel ya toma control y este block no debe forzar blanco */
body.dark .chat-card {
  background:transparent;
  border-color:transparent;
  box-shadow:none;
  padding:18px;
}

/* header del chat */
.chat-header {
  display:flex;
  justify-content:space-between;
  align-items:center;
  flex-wrap:wrap;
  gap:12px;
  margin-bottom:12px;
}

/* título del chat */
.chat-header h3 {
  margin:0;
  font-size:18px;
  font-weight:600;
  color:#111827;
}
body.dark .chat-header h3 {
  color:#f8fafc;
}

/* botones del header (Historial, +, etc.) */
.chat-actions button {
  border:1px solid #e5e7eb;
  background:#f8fafc;
  color:#5a49d6;
  border-radius:10px;
  padding:6px 10px;
  cursor:pointer;
  font-weight:600;
  font-size:14px;
  line-height:1.3;
}
.chat-actions button:hover {
  background:#eef2f7;
}

/* dark override: estos botones en dark no deben ser blancos planos */
body.dark .chat-actions button {
  background:rgba(30,41,59,0.6);
  border:1px solid rgba(148,163,184,0.3);
  color:#e2e8f0;
  box-shadow:
    0 12px 32px rgba(0,0,0,0.8),
    0 2px 4px rgba(0,0,0,0.5);
}
body.dark .chat-actions button:hover {
  background:radial-gradient(circle at 30% 20%,
    rgba(168,85,247,0.15) 0%,
    rgba(15,23,42,0.9) 60%);
  border-color:rgba(168,85,247,0.5);
  color:#fff;
}

/* chat-messages */
.chat-messages {
  min-height:140px;
  margin-top:10px;
  padding:8px 0;
  display:flex;
  flex-direction:column;
  gap:10px;
}

/* bubble de mensaje */
.msg {
  padding:12px;
  border-radius:12px;
  max-width:75%;
  line-height:1.45;
  border:1px solid #eef2f7;
  background:#fff;
  color:#111827;
  box-shadow:0 10px 20px rgba(0,0,0,0.04);
}

.msg.user {
  border-left:4px solid var(--brand);
}

.msg.assistant {
  border-left:4px solid #60a5fa;
}

/* dark burbujas */
body.dark .msg {
  background:rgba(15,23,42,0.8);
  border:1px solid rgba(148,163,184,0.3);
  color:#f8fafc;
  box-shadow:
    0 24px 60px rgba(0,0,0,0.9),
    0 2px 4px rgba(0,0,0,0.8);
}

body.dark .msg.assistant {
  border-left:4px solid rgba(96,165,250,0.7); /* azul cielo translúcido */
}

body.dark .msg.user {
  border-left:4px solid rgba(168,85,247,0.7); /* violeta para usuario */
}

/* error debajo del chat */
.error {
  color:rgb(239,68,68);
  font-size:0.9rem;
  font-weight:500;
  padding-top:4px;
}

/* chat input row */
.chat-input {
  display:grid;
  grid-template-columns:1fr auto;
  gap:10px;
  margin-top:12px;
  border-top:1px solid rgba(0,0,0,0.08);
  padding-top:12px;
}

/* en dark el borde superior debe ser más tenue gris violeta */
body.dark .chat-input {
  border-top:1px solid rgba(148,163,184,0.2);
}

/* input del chat */
.chat-input input {
  border:1px solid #d1d5db;
  border-radius:12px;
  padding:12px;
  background:#fff;
  color:#111;
}
.chat-input input:focus {
  border-color:#c3baf7;
  box-shadow:0 0 0 3px rgba(100,80,200,.15);
  outline:none;
}

/* dark override del input de chat (repetimos para asegurar que gane) */
body.dark .chat-input input {
  background-color:rgba(15,23,42,0.9);
  color:#f8fafc;
  border:1px solid rgba(148,163,184,0.3);
}
body.dark .chat-input input:focus {
  border-color:rgba(168,85,247,0.6);
  box-shadow:0 0 0 2px rgba(168,85,247,0.3);
  outline:none;
}

/* botón Send (light default). 
   OJO: en el TSX ya lo cambiamos a className="primary", 
   y ese estilo final del gradiente morado oscuro / glow lo maneja index.css.
   Aquí dejamos tu fallback light-only, por si se usa en algún otro lado. */
.chat-input button {
  border:1px solid var(--brand);
  background:var(--brand);
  color:#fff;
  padding:0 16px;
  border-radius:12px;
  font-weight:700;
  cursor:pointer;
}
.chat-input button:hover {
  background:#5b21b6;
  border-color:#5b21b6;
}
.chat-input button:disabled {
  opacity:.6;
  cursor:not-allowed;
}
